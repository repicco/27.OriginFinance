{"version":3,"sources":["jquery.maskMoney.js"],"names":["$","browser","mozilla","test","navigator","userAgent","toLowerCase","webkit","opera","msie","methods","destroy","unbind","onpaste","removeEventListener","blurEvent","mask","trigger","init","settings","extend","symbol","showSymbol","symbolStay","thousands","decimal","precision","defaultZero","allowZero","allowNegative","each","input","dirty","markAsDirty","clearDirt","keypressEvent","e","k","window","event","which","charCode","keyCode","undefined","val","changeSign","i","charAt","replace","change","preventDefault","length","attr","key","String","fromCharCode","x","get","selection","getInputSelection","startPos","start","endPos","end","value","substring","maskAndPosition","returnValue","originalLen","maskValue","newLen","setCursorPosition","pos","index","elem","setSelectionRange","focus","createTextRange","range","collapse","moveEnd","moveStart","select","v","strCheck","len","a","t","neg","indexOf","n","parseFloat","isNaN","Math","pow","toFixed","p","d","split","substr","setSymbol","Array","join","getDefaultMask","RegExp","operator","el","normalizedValue","textInputRange","endRange","selectionStart","selectionEnd","document","createRange","parentElement","moveToBookmark","getBookmark","compareEndPoints","slice","bind","keydownEvent","focusEvent","textRange","fn","maskMoney","method","apply","prototype","call","arguments","error","jQuery"],"mappings":"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","file":"jquery.maskMoney.cbd76888.js","sourceRoot":"..\\src","sourcesContent":["/*\n* maskMoney plugin for jQuery\n* http://plentz.github.com/jquery-maskmoney/\n* version: 2.0.1\n* Licensed under the MIT license\n*/\n;(function($) {\n\tif(!$.browser){\n\t\t$.browser = {};\n\t\t$.browser.mozilla = /mozilla/.test(navigator.userAgent.toLowerCase()) && !/webkit/.test(navigator.userAgent.toLowerCase());\n\t\t$.browser.webkit = /webkit/.test(navigator.userAgent.toLowerCase());\n\t\t$.browser.opera = /opera/.test(navigator.userAgent.toLowerCase());\n\t\t$.browser.msie = /msie/.test(navigator.userAgent.toLowerCase());\n\t}\n\n\tvar methods = {\n\t\tdestroy : function(){\n\t\t\tvar input = $(this);\n\t\t\tinput.unbind('.maskMoney');\n\n\t\t\tif ($.browser.msie) {\n\t\t\t\tthis.onpaste = null;\n\t\t\t} else if ($.browser.mozilla) {\n\t\t\t\tthis.removeEventListener('input', blurEvent, false);\n\t\t\t}\n\t\t\treturn this;\n\t\t},\n\n\t\tmask : function(){\n\t\t\treturn this.trigger('mask');\n\t\t},\n\t\t\n\t\tinit : function(settings) {\n\t\t\tsettings = $.extend({\n\t\t\t\tsymbol: 'US$',\n\t\t\t\tshowSymbol: false,\n\t\t\t\tsymbolStay: false,\n\t\t\t\tthousands: ',',\n\t\t\t\tdecimal: '.',\n\t\t\t\tprecision: 2,\n\t\t\t\tdefaultZero: true,\n\t\t\t\tallowZero: false,\n\t\t\t\tallowNegative: false\n\t\t\t}, settings);\n\n\t\t\treturn this.each(function() {\n\t\t\t\tvar input = $(this);\n\t\t\t\tvar dirty = false;\n\n\t\t\t\tfunction markAsDirty() {\n\t\t\t\t\tdirty = true;\n\t\t\t\t}\n\n\t\t\t\tfunction clearDirt(){\n\t\t\t\t\tdirty = false;\n\t\t\t\t}\n\n\t\t\t\tfunction keypressEvent(e) {\n\t\t\t\t\te = e || window.event;\n\t\t\t\t\tvar k = e.which || e.charCode || e.keyCode;\n\t\t\t\t\tif (k == undefined) return false; //needed to handle an IE \"special\" event\n\t\t\t\t\tif (k < 48 || k > 57) { // any key except the numbers 0-9\n\t\t\t\t\t\tif (k == 45) { // -(minus) key\n\t\t\t\t\t\t\tmarkAsDirty();\n\t\t\t\t\t\t\tinput.val(changeSign(input));\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t} else if (k == 43) { // +(plus) key\n\t\t\t\t\t\t\tmarkAsDirty();\n\t\t\t\t\t\t\tinput.val(input.val().replace('-',''));\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t} else if (k == 13 || k == 9) { // enter key or tab key\n\t\t\t\t\t\t\tif(dirty){\n\t\t\t\t\t\t\t\tclearDirt();\n\t\t\t\t\t\t\t\t$(this).change();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t} else if ($.browser.mozilla && (k == 37 || k == 39) && e.charCode == 0) {\n\t\t\t\t\t\t\t// needed for left arrow key or right arrow key with firefox\n\t\t\t\t\t\t\t// the charCode part is to avoid allowing '%'(e.charCode 0, e.keyCode 37)\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t} else { // any other key with keycode less than 48 and greater than 57\n\t\t\t\t\t\t\tpreventDefault(e);\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (input.val().length >= input.attr('maxlength')) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tpreventDefault(e);\n\n\t\t\t\t\t\tvar key = String.fromCharCode(k);\n\t\t\t\t\t\tvar x = input.get(0);\n\t\t\t\t\t\tvar selection = getInputSelection(x);\n\t\t\t\t\t\tvar startPos = selection.start;\n\t\t\t\t\t\tvar endPos = selection.end;\n\t\t\t\t\t\tx.value = x.value.substring(0, startPos) + key + x.value.substring(endPos, x.value.length);\n\t\t\t\t\t\tmaskAndPosition(x, startPos + 1);\n\t\t\t\t\t\tmarkAsDirty();\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tfunction keydownEvent(e) {\n\t\t\t\t\te = e||window.event;\n\t\t\t\t\tvar k = e.which || e.charCode || e.keyCode;\n\t\t\t\t\tif (k == undefined) return false; //needed to handle an IE \"special\" event\n\n\t\t\t\t\tvar x = input.get(0);\n\t\t\t\t\tvar selection = getInputSelection(x);\n\t\t\t\t\tvar startPos = selection.start;\n\t\t\t\t\tvar endPos = selection.end;\n\n\t\t\t\t\tif (k==8) { // backspace key\n\t\t\t\t\t\tpreventDefault(e);\n\n\t\t\t\t\t\tif(startPos == endPos){\n\t\t\t\t\t\t\t// Remove single character\n\t\t\t\t\t\t\tx.value = x.value.substring(0, startPos - 1) + x.value.substring(endPos, x.value.length);\n\t\t\t\t\t\t\tstartPos = startPos - 1;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// Remove multiple characters\n\t\t\t\t\t\t\tx.value = x.value.substring(0, startPos) + x.value.substring(endPos, x.value.length);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tmaskAndPosition(x, startPos);\n\t\t\t\t\t\tmarkAsDirty();\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t} else if (k==9) { // tab key\n\t\t\t\t\t\tif(dirty) {\n\t\t\t\t\t\t\t$(this).change();\n\t\t\t\t\t\t\tclearDirt();\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t} else if ( k==46 || k==63272 ) { // delete key (with special case for safari)\n\t\t\t\t\t\tpreventDefault(e);\n\t\t\t\t\t\tif(x.selectionStart == x.selectionEnd){\n\t\t\t\t\t\t\t// Remove single character\n\t\t\t\t\t\t\tx.value = x.value.substring(0, startPos) + x.value.substring(endPos + 1, x.value.length);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t//Remove multiple characters\n\t\t\t\t\t\t\tx.value = x.value.substring(0, startPos) + x.value.substring(endPos, x.value.length);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tmaskAndPosition(x, startPos);\n\t\t\t\t\t\tmarkAsDirty();\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t} else { // any other key\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tfunction focusEvent(e) {\n\t\t\t\t\tvar mask = getDefaultMask();\n\t\t\t\t\tif (input.val() == mask) {\n\t\t\t\t\t\tinput.val('');\n\t\t\t\t\t} else if (input.val()=='' && settings.defaultZero) {\n\t\t\t\t\t\tinput.val(setSymbol(mask));\n\t\t\t\t\t} else {\n\t\t\t\t\t\tinput.val(setSymbol(input.val()));\n\t\t\t\t\t}\n\t\t\t\t\tif (this.createTextRange) {\n\t\t\t\t\t\tvar textRange = this.createTextRange();\n\t\t\t\t\t\ttextRange.collapse(false); // set the cursor at the end of the input\n\t\t\t\t\t\ttextRange.select();\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tfunction blurEvent(e) {\n\t\t\t\t\tif ($.browser.msie) {\n\t\t\t\t\t\tkeypressEvent(e);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (input.val() == '' || input.val() == setSymbol(getDefaultMask()) || input.val() == settings.symbol) {\n\t\t\t\t\t\tif(!settings.allowZero) input.val('');\n\t\t\t\t\t\telse if (!settings.symbolStay) input.val(getDefaultMask());\n\t\t\t\t\t\telse input.val(setSymbol(getDefaultMask()));\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (!settings.symbolStay) input.val(input.val().replace(settings.symbol,''));\n\t\t\t\t\t\telse if (settings.symbolStay&&input.val()==settings.symbol) input.val(setSymbol(getDefaultMask()));\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tfunction preventDefault(e) {\n\t\t\t\t\tif (e.preventDefault) { //standard browsers\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t} else { // internet explorer\n\t\t\t\t\t\te.returnValue = false\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tfunction maskAndPosition(x, startPos) {\n\t\t\t\t\tvar originalLen = input.val().length;\n\t\t\t\t\tinput.val(maskValue(x.value));\n\t\t\t\t\tvar newLen = input.val().length;\n\t\t\t\t\tstartPos = startPos - (originalLen - newLen);\n\t\t\t\t\tsetCursorPosition(input, startPos);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tfunction mask(){\n\t\t\t\t\tvar value = input.val();\n\t\t\t\t\tinput.val(maskValue(value));\n\t\t\t\t}\n\n\t\t\t\tfunction maskValue(v) {\n\t\t\t\t\tv = v.replace(settings.symbol, '');\n\n\t\t\t\t\tvar strCheck = '0123456789';\n\t\t\t\t\tvar len = v.length;\n\t\t\t\t\tvar a = '', t = '', neg='';\n\n\t\t\t\t\tif(len != 0 && v.charAt(0)=='-'){\n\t\t\t\t\t\tv = v.replace('-','');\n\t\t\t\t\t\tif(settings.allowNegative){\n\t\t\t\t\t\t\tneg = '-';\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (len==0) {\n\t\t\t\t\t\tif (!settings.defaultZero) return t;\n\t\t\t\t\t\tt = '0.00';\n\t\t\t\t\t}\n\n\t\t\t\t\tfor (var i = 0; i<len; i++) {\n\t\t\t\t\t\tif ((v.charAt(i)!='0') && (v.charAt(i)!=settings.decimal)) break;\n\t\t\t\t\t}\n\n\t\t\t\t\tfor (; i < len; i++) {\n\t\t\t\t\t\tif (strCheck.indexOf(v.charAt(i))!=-1) a+= v.charAt(i);\n\t\t\t\t\t}\n\t\t\t\t\tvar n = parseFloat(a);\n\n\t\t\t\t\tn = isNaN(n) ? 0 : n/Math.pow(10,settings.precision);\n\t\t\t\t\tt = n.toFixed(settings.precision);\n\n\t\t\t\t\ti = settings.precision == 0 ? 0 : 1;\n\t\t\t\t\tvar p, d = (t=t.split('.'))[i].substr(0,settings.precision);\n\t\t\t\t\tfor (p = (t=t[0]).length; (p-=3)>=1;) {\n\t\t\t\t\t\tt = t.substr(0,p)+settings.thousands+t.substr(p);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn (settings.precision>0)\n\t\t\t\t\t? setSymbol(neg+t+settings.decimal+d+Array((settings.precision+1)-d.length).join(0))\n\t\t\t\t\t: setSymbol(neg+t);\n\t\t\t\t}\n\n\t\t\t\tfunction getDefaultMask() {\n\t\t\t\t\tvar n = parseFloat('0')/Math.pow(10,settings.precision);\n\t\t\t\t\treturn (n.toFixed(settings.precision)).replace(new RegExp('\\\\.','g'),settings.decimal);\n\t\t\t\t}\n\n\t\t\t\tfunction setSymbol(value){\n\t\t\t\t\tif (settings.showSymbol){\n\t\t\t\t\t\tvar operator = '';\n\t\t\t\t\t\tif(value.length != 0 && value.charAt(0) == '-'){\n\t\t\t\t\t\t\tvalue = value.replace('-', '');\n\t\t\t\t\t\t\toperator = '-';\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif(value.substr(0, settings.symbol.length) != settings.symbol){\n\t\t\t\t\t\t\tvalue = operator + settings.symbol + value;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\n\t\t\t\tfunction changeSign(i){\n\t\t\t\t\tif (settings.allowNegative) {\n\t\t\t\t\t\tvar vic = i.val();\n\t\t\t\t\t\tif (i.val()!='' && i.val().charAt(0)=='-'){\n\t\t\t\t\t\t\treturn i.val().replace('-','');\n\t\t\t\t\t\t} else{\n\t\t\t\t\t\t\treturn '-'+i.val();\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn i.val();\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tfunction setCursorPosition(input, pos) {\n\t\t\t\t\t// I'm not sure if we need to jqueryfy input\n\t\t\t\t\t$(input).each(function(index, elem) {\n\t\t\t\t\t\tif (elem.setSelectionRange) {\n\t\t\t\t\t\t\telem.focus();\n\t\t\t\t\t\t\telem.setSelectionRange(pos, pos);\n\t\t\t\t\t\t} else if (elem.createTextRange) {\n\t\t\t\t\t\t\tvar range = elem.createTextRange();\n\t\t\t\t\t\t\trange.collapse(true);\n\t\t\t\t\t\t\trange.moveEnd('character', pos);\n\t\t\t\t\t\t\trange.moveStart('character', pos);\n\t\t\t\t\t\t\trange.select();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\treturn this;\n\t\t\t\t};\n\n\t\t\t\tfunction getInputSelection(el) {\n\t\t\t\t\tvar start = 0, end = 0, normalizedValue, range, textInputRange, len, endRange;\n\n\t\t\t\t\tif (typeof el.selectionStart == \"number\" && typeof el.selectionEnd == \"number\") {\n\t\t\t\t\t\tstart = el.selectionStart;\n\t\t\t\t\t\tend = el.selectionEnd;\n\t\t\t\t\t} else {\n\t\t\t\t\t\trange = document.selection.createRange();\n\n\t\t\t\t\t\tif (range && range.parentElement() == el) {\n\t\t\t\t\t\t\tlen = el.value.length;\n\t\t\t\t\t\t\tnormalizedValue = el.value.replace(/\\r\\n/g, \"\\n\");\n\n\t\t\t\t\t\t\t// Create a working TextRange that lives only in the input\n\t\t\t\t\t\t\ttextInputRange = el.createTextRange();\n\t\t\t\t\t\t\ttextInputRange.moveToBookmark(range.getBookmark());\n\n\t\t\t\t\t\t\t// Check if the start and end of the selection are at the very end\n\t\t\t\t\t\t\t// of the input, since moveStart/moveEnd doesn't return what we want\n\t\t\t\t\t\t\t// in those cases\n\t\t\t\t\t\t\tendRange = el.createTextRange();\n\t\t\t\t\t\t\tendRange.collapse(false);\n\n\t\t\t\t\t\t\tif (textInputRange.compareEndPoints(\"StartToEnd\", endRange) > -1) {\n\t\t\t\t\t\t\t\tstart = end = len;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tstart = -textInputRange.moveStart(\"character\", -len);\n\t\t\t\t\t\t\t\tstart += normalizedValue.slice(0, start).split(\"\\n\").length - 1;\n\n\t\t\t\t\t\t\t\tif (textInputRange.compareEndPoints(\"EndToEnd\", endRange) > -1) {\n\t\t\t\t\t\t\t\t\tend = len;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tend = -textInputRange.moveEnd(\"character\", -len);\n\t\t\t\t\t\t\t\t\tend += normalizedValue.slice(0, end).split(\"\\n\").length - 1;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn {\n\t\t\t\t\t\tstart: start,\n\t\t\t\t\t\tend: end\n\t\t\t\t\t};\n\t\t\t\t} // getInputSelection\n\n\t\t\t\tif (!input.attr(\"readonly\")){\n\t\t\t\t\tinput.unbind('.maskMoney');\n\t\t\t\t\tinput.bind('keypress.maskMoney', keypressEvent);\n\t\t\t\t\tinput.bind('keydown.maskMoney', keydownEvent);\n\t\t\t\t\tinput.bind('blur.maskMoney', blurEvent);\n\t\t\t\t\tinput.bind('focus.maskMoney', focusEvent);\n\t\t\t\t\tinput.bind('mask.maskMoney', mask);\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t}\n\n\t$.fn.maskMoney = function(method) {\n\t\tif ( methods[method] ) {\n\t\t\treturn methods[method].apply( this, Array.prototype.slice.call( arguments, 1 ));\n\t\t} else if ( typeof method === 'object' || ! method ) {\n\t\t\treturn methods.init.apply( this, arguments );\n\t\t} else {\n\t\t\t$.error( 'Method ' +  method + ' does not exist on jQuery.tooltip' );\n\t\t}\n\t};\n})(jQuery);\n"]}